<div class="container">
  <div class="row">
    <div class="col-md-8 offset-md-1">
  <%= flash[:notice] %>

<table class="table">
  <h2>Book detail</h2>
  <thead>
    <tr>
      <th style="width: 100px;"></th> <!-- Image固定幅 -->
      <th style="width: 150px;">Title</th> <!-- Title固定幅 -->
      <th style="width: 600px;">Opinion</th>
      <th style="width: 80px;">User</th>
      <% if @book.user == current_user %>
        <th style="width: 250px;">Actions</th>
      <% end %>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <% if @book.image.attached? %>
          <%= image_tag @book.image, size: "80x80", class: "img-thumbnail" %>
        <% else %>
          <%= image_tag "sample-author1.jpg", size: "80x80", class: "img-thumbnail" %>
        <% end %>
      </td>
      <td><%= @book.title %></td>
      <td style="word-break: break-word; max-width: 400px;">
        <%= simple_format(@book.body) %>
      </td>
      <td><%= link_to @book.user.name, user_path(@book.user) %></td>

      <% if @book.user == current_user %>
        <td class="text-end">
          <%= link_to "Edit", edit_book_path(@book), class: "btn btn-sm btn-outline-secondary" %>
          <%= link_to "Destroy", book_path(@book), method: :delete, data: { confirm: "Are you sure?" }, class: "btn btn-sm btn-outline-danger" %>
        </td>
        </div>
      <% end %>
    </tr>
  </tbody>
</table>